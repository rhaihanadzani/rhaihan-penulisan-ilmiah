import{r as n,q as S,j as r,a as e,F as x,y as f}from"./app-b8b7886a.js";import{D as V}from"./Dashboard-70295a99.js";import{f as _}from"./Combination-29ae091c.js";import{P as B}from"./react-icons.esm-2da788e4.js";import{D as C}from"./DashboardLayoutAdmin-9f49c603.js";import{N as F}from"./NoData-ccc36705.js";import"./logotasnim-146e1170.js";import"./createLucideIcon-41b961f0.js";import"./mode-toggle-2bb5a037.js";import"./menu-c581b3d2.js";import"./user-round-cog-1b9c012e.js";import"./chevron-up-d1d8c821.js";const R=t=>{var h,b,p,u;const[i,w]=n.useState(""),[s,g]=n.useState(""),[o,N]=n.useState(""),[c,y]=n.useState(""),[v,j]=n.useState(!1),{auth:A}=S().props,P=[...t.absen].sort((a,d)=>new Date(a.created_at)-new Date(d.created_at)),D=a=>{if(a.preventDefault(),s===""||i===""||o===""||c===""){j(!0);return}f.visit(`/detail-absensi/${s}/${i}/${o}/${c}`)},m=()=>{const a={};return P.forEach(d=>{const l=_(d.created_at);a[l]||(a[l]=[]),a[l].push(d)}),a},z=A.user.type==="Admin"?C:V;return r(z,{children:[r("div",{className:"flex flex-col md:flex-row gap-5 items-center",children:[e("div",{className:"rounded-lg border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark p-5 md:w-[60%] w-full",children:r("form",{onSubmit:D,className:"space-y-5",children:[e("div",{className:"border-b border-stroke py-2 dark:border-strokedark",children:e("h3",{className:"font-semibold text-black dark:text-white",children:"Lihat Absensi"})}),r("div",{className:"flex flex-col gap-5",children:[r("div",{className:"flex gap-5",children:[r("div",{className:"w-1/2",children:[e("label",{htmlFor:"pelajaran",className:"mb-3 block text-black dark:text-white",children:"Pelajaran"}),e("div",{className:"bg-white dark:bg-form-input shadow-lg",children:r("select",{id:"pelajaran",value:s,onChange:a=>g(a.target.value),className:"w-full appearance-none rounded border border-stroke bg-transparent py-3 outline-none transition focus:border-primary active:border-primary dark:border-form-strokedark dark:bg-form-input",children:[e("option",{value:"",disabled:!0,children:"Pilih Mata Pelajaran"}),t.pelajarans.map(a=>e("option",{value:a.uuid,children:a.nama},a.uuid))]})})]}),r("div",{className:"w-1/2",children:[e("label",{htmlFor:"kelas",className:"mb-3 block text-black dark:text-white",children:"Kelas"}),e("div",{className:"bg-white dark:bg-form-input shadow-lg",children:r("select",{id:"kelas",value:i,onChange:a=>w(a.target.value),className:"w-full appearance-none rounded border border-stroke bg-transparent py-3 outline-none transition focus:border-primary active:border-primary dark:border-form-strokedark dark:bg-form-input",children:[e("option",{value:"",disabled:!0,children:"Kelas"}),t.kelases.map(a=>e("option",{value:a.uuid,children:a.nama},a.uuid))]})})]})]}),r("div",{className:"flex gap-5",children:[r("div",{className:"w-1/2",children:[e("label",{htmlFor:"bulan",className:"mb-3 block text-black dark:text-white",children:"Bulan"}),e("div",{className:"bg-white dark:bg-form-input shadow-lg",children:r("select",{id:"bulan",value:o,onChange:a=>N(a.target.value),className:"w-full appearance-none rounded border border-stroke bg-transparent py-3 outline-none transition focus:border-primary active:border-primary dark:border-form-strokedark dark:bg-form-input",children:[e("option",{value:"",disabled:!0,children:"Pilih Bulan"}),t.bulans.map(a=>e("option",{value:a.uuid,children:a.nama},a.uuid))]})})]}),r("div",{className:"w-1/2",children:[e("label",{htmlFor:"tahun",className:"mb-3 block text-black dark:text-white",children:"Tahun"}),e("div",{className:"bg-white dark:bg-form-input shadow-lg",children:r("select",{id:"tahun",value:c,onChange:a=>y(a.target.value),className:"w-full appearance-none rounded border border-stroke bg-transparent py-3 outline-none transition focus:border-primary active:border-primary dark:border-form-strokedark dark:bg-form-input",children:[e("option",{value:"",disabled:!0,children:"Pilih Tahun"}),t.tahuns.map(a=>e("option",{value:a.uuid,children:a.nama},a.uuid))]})})]})]})]}),e("div",{className:"w-full mt-5",children:e("button",{className:"inline-flex items-center justify-center rounded-md bg-primary py-2 px-4 text-center font-medium text-white hover:bg-opacity-90 lg:px-5 xl:px-6 ",type:"submit",children:"Lihat Absen"})}),v&&e("p",{className:"text-red-500 capitalize",children:"* Isi semua Kolom"})]})}),r("div",{className:"md:w-[40%] w-full flex flex-col gap-5 p-5",children:[e("h1",{className:"text-xl font-bold ",children:"Detail Absen :"}),r("div",{className:"space-y-2",children:[r("p",{children:["Nama Pelajaran ",e("span",{className:"",children:":"})," ",e("span",{className:"font-semibold text-primary capitalize",children:(h=t.pelajaran)==null?void 0:h.nama})]}),r("p",{children:["Tahun Ajaran",e("span",{className:"pl-[27px]",children:":"})," ",r("span",{className:"font-semibold text-primary capitalize",children:[" ",(b=t.tahun)==null?void 0:b.nama]})]}),r("p",{children:["Bulan ",e("span",{className:"pl-[85px]",children:":"})," ",e("span",{className:"font-semibold text-primary capitalize",children:(p=t.bulan)==null?void 0:p.nama})]}),r("p",{children:["Kelas ",e("span",{className:"pl-[89px]",children:":"})," ",e("span",{className:"font-semibold text-primary capitalize",children:(u=t.kelas)==null?void 0:u.nama})]})]})]})]}),t.absen.length===0?e(F,{}):e("div",{className:"w-full gap-5 mt-10 ",children:Object.keys(m()).map((a,d)=>e("div",{className:"mt-10 rounded-sm border border-stroke bg-white px-5 pt-6 pb-2.5 shadow-default dark:border-strokedark dark:bg-boxdark sm:px-7 xl:pb-1",children:r("div",{className:"max-w-full overflow-x-auto",children:[e("div",{className:"border-b border-stroke py-2 dark:border-strokedark",children:r("h3",{className:"font-semibold text-black dark:text-white",children:["Tanggal ",a]})}),r("table",{className:"w-full table-auto",children:[e("thead",{children:r("tr",{className:"bg-gray-2 text-left dark:bg-meta-4",children:[e("th",{className:"min-w-[220px] py-4 px-4 font-medium text-black dark:text-white xl:pl-11",children:"Nama"}),e("th",{className:"min-w-[110px] py-4 px-4 font-medium text-black dark:text-white",children:"Keterangan"}),t.pelajaran.nama==="Pelajaran 2"||t.pelajaran.nama==="Pelajaran 3"?r(x,{children:[e("th",{className:"min-w-[180px] py-4 px-4 font-medium text-black dark:text-white",children:"Dari Surah - Ayat"}),e("th",{className:"min-w-[180px] py-4 px-4 font-medium text-black dark:text-white",children:"Ke Surah - Ayat"}),e("th",{className:"min-w-[80px] py-4 px-4 font-medium text-black dark:text-white",children:"Juz"})]}):null,e("th",{className:"min-w-[80px] py-4 px-4 font-medium text-black dark:text-white",children:"Action"})]})}),e("tbody",{children:m()[a].map((l,K)=>{var k;return r("tr",{children:[e("td",{className:"border-b border-[#eee] py-5 px-4 pl-9 dark:border-strokedark xl:pl-11",children:(k=l.user)==null?void 0:k.name}),e("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:e("div",{className:`${l.keterangan==="hadir"?"bg-green-500":l.keterangan==="izin"?"bg-yellow-500":"bg-red-500"} text-white px-2 rounded-sm w-[70px] h-[30px] flex items-center justify-center`,children:e("h2",{className:"capitalize",children:l.keterangan})})}),t.pelajaran.nama==="Pelajaran 2"||t.pelajaran.nama==="Pelajaran 3"?r(x,{children:[r("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:[l.from_surah," ","-"," ",l.from_ayat]}),r("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:[l.to_surah," -"," ",l.to_ayat]}),r("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:["Juz ",l.juz]})]}):null,e("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:e("button",{type:"button",onClick:()=>f.visit(`/edit-absensi/${l.uuid}`),className:"px-3 py-2 rounded-lg text-white dark:bg-meta-4 bg-gray-2 shadow-sm dark:shadow-gray-2 shadow-meta-4",children:e(B,{className:"text-graydark dark:text-gray"})})})]},K)})})]})]})},d))})]})};export{R as default};
